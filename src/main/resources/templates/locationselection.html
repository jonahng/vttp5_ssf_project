<!DOCTYPE html>
<html>
<head>
    <script type="text/javascript" th:src= "@{https://maps.googleapis.com/maps/api/js?key=__${apikey}__&libraries=places}"></script>
    <script>
        function initialize() {
          var input = document.getElementById('searchTextField');
          var autocomplete = new google.maps.places.Autocomplete(input);
            google.maps.event.addListener(autocomplete, 'place_changed', function () {
                var place = autocomplete.getPlace();


                document.getElementById('placeName').value = place.name;
                document.getElementById('placeLat').value = place.geometry.location.lat();
                document.getElementById('placeLong').value = place.geometry.location.lng();
            });
        }
        google.maps.event.addDomListener(window, 'load', initialize);
    </script>


            <meta charset="UTF-8">
            <meta name="viewport" content="width=device-width, initial-scale=1.0">
            <title>Document</title>

            <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css" rel="stylesheet"
            integrity="sha384-rbsA2VBKQhggwzxH7pPCaAqO46MgnOM80zW1RWuH61DGLwZJEdK2Kadq2F9CUG65" crossorigin="anonymous">
</head>
<body>

    <div style="padding-top: 14%;">
        <div class="text-center">
            
            <h2>Hi <span th:text="${sessionName}"></span>! &#10084;&#65039;</h2>
            <br>
            <h3 class="fw-light">Where do you want to search for food? &#127829;</h3>
            <br>
        </div>
    
</div>


    <div class="container">
    <div class="text-center">
        
<form method="post" th:action="@{/location}" enctype="application/x-www-form-urlencoded">
    <div class="input-large"></div>
    <input id="searchTextField" type="text" size="60" placeholder="  Enter a location to search..." autocomplete="on" runat="server" class="input-large rounded-pill "/>  
    <input type="hidden" id="placeName" name="placeName" />
    <input type="hidden" id="placeLat" name="placeLat" />
    <input type="hidden" id="placeLong" name="placeLong" />

<button type="submit" class="btn btn-primary rounded-pill input-sm">Confirm location!</button>
</form>

</div>
</div>




</body>
</html>